<!DOCTYPE html>
<html lang="en">
   <head>
    <meta charset="UTF-8">
    	 <!--
	    Ruth Murphy
	    September 26, 2016
	    Project 2
	 -->
      <title> Murphy's World </title>
	   <p style = "font-size: 30pt; color: red;"> Welcome to Murphy's World! </p>
	     <p style = "color: blue;">
	     <h3> <a href= mailto:ruth.murphy1@marist.edu> Problem? Click here to send errors to Ruth Murphy</a></h3>
       <script type="text/javascript">

         //
         // List of Variables for Game
         //         
         var currentLoc = 0;
         var score = 0;
         var directionErrorCount = 0;
         var limit = 5;
         var beenHere0 = false;
         var beenHere1 = false;
         var beenHere2 = false;
         var beenHere3 = false;
         var beenHere4 = false;
                  
         //
         // Initialization function for executing Look Function
         //
         function init() {
            look();
         }
         
         //
         // Functions for direction buttons to handle the click action by user
         // ie: First Action pressing north 
         // when loc is at 0 is set to loc 1 then executes look function
         // otherwise it looks to see if loc is 3 and sets it to 0 and executes look
         // 
         // 
         // any other direction and an error is handled
         //         
         function btnGo_North_click() {
            if (currentLoc === 0) {
               currentLoc = 1;
               look();               
            } else {
              if (currentLoc === 4) {
                 currentLoc = 2;
                 look();            
              } else {
                directionError(); 
              }
            }            
         }

         function btnGo_South_click() {
            if (currentLoc === 1) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 2) {
                 currentLoc = 4;
                 look();
              } else {
                 directionError();               
              }
            }
         }

         function btnGo_East_click() {
            if (currentLoc === 2) {
               currentLoc = 3;
               look();
            } else {
              if (currentLoc === 3) {
                 currentLoc = 1;
                 look();
              } else {
                 directionError(); 
              }
            }
         }

         function btnGo_West_click() {
            if (currentLoc === 3) {
               currentLoc = 2;
               look();
            } else {
              if (currentLoc === 1) {
                 currentLoc = 3;
                 look();
              } else {
                 directionError(); 
              }
            }
         }

       // 
       // Set up of Locations that will be displayed for the user.
       //
         function look() {
            var desc = "";
            switch(currentLoc) {
               case 0: desc = "0. You walk through the door and see a kitchen";
                       break;
               case 1: desc = "1. You have entered a very long tunnel";
                       break; 
               case 2: desc = "2. You enter a room with a door.";
                       break;
               case 3: desc = "3. You are in a room with a dirt floor and a table.  On the table is an odd key.";
                       break;
               case 4: desc = "4. Welcome to Dante's Cave!";
                       break;
               default: desc = "default. You have entered a yellow house";
            }

           //
           // check the score to evaluate if we have to add 5.
           //
            scoreEval();
            desc = desc + "\n" +"Your Score is: " + score;
            displayMessage(desc);
         }

          //
          // Function to check an error in direction.  Ie a wall has been reached
          //
           function directionError() {
            directionErrorCount = directionErrorCount + 1;
            if (directionErrorCount < limit) {
               displayMessage("You might want to try another direction.");
            } else {
               displayMessage("Umm, Where are you going?  Pick another direction.");
            }            
         }

            //
            // Function to check the score to decide if 5 needs to be added.
            // Do the calculation and update the score variable if needed
            //
              function scoreEval() {
               if ( (! beenHere0)  && (currentLoc === 0) ) {
                    score = score + 5;
                    beenHere0 = true;
                             
              } else if ( (! beenHere1) && (currentLoc === 1 ) ) {
                      score = score + 5;
                      beenHere1 = true;
              }
                 else if ( (! beenHere2) && (currentLoc === 2) ) {
                      score = score + 5;
                      beenHere2 = true;
             }
                 else if ( (! beenHere3) && (currentLoc === 3) ) {
                      score = score + 5;
                      beenHere3 = true;
             }
                 else if ( (! beenHere4) && (currentLoc === 4) ) {
                      score = score + 5;
                      beenHere4 = true;
             }
            }     
         //
         // Creation of text box for target(case) and provide message
         // also include the value of the score.
         //
          function displayMessage(msg) {
            var target = document.getElementById("taMain");
            target.value = msg + "\n\n\n" + target.value ;
         } 
      </script> 
    <!-- </head>
    -->
    <!-- when page loads, use initialization values for the box -->

    <!-- <body onload="init();">
    -->
      <!-- set text area box size and text -->
      
      <textarea style = "background-color: powderblue;font-size:12pt; font-weight: bold;"
               rows="8"
               cols="55"
               id="taMain"
               name="taMain"> You have just entered a yellow house. Press any button.
     </textarea></style>
     
       <br>
      
       <br>
       <input type="button" 
              value="Go North"
              onclick="btnGo_North_click();">
       <input type="button" 
              value="Go South"
              onclick="btnGo_South_click();">
       <input type="button" 
              value="Go East"
              onclick="btnGo_East_click();">
       <input type="button" 
              value="Go West"
              onclick="btnGo_West_click();">
</body>
</html>
